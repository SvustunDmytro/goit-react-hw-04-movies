(window["webpackJsonpgoit-react-hw-04-movies"]=window["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{17:function(e,t,a){e.exports={app:"App_app__1Tc_1",activeLink:"App_activeLink__26_Kr",list:"App_list__2sJdd"}},18:function(e,t,a){e.exports={authorName:"MovieReviews_authorName__2lZcZ",reviewsWrapper:"MovieReviews_reviewsWrapper__1T_rQ"}},2:function(e,t,a){e.exports={MovieItemWrapper:"MovieItem_MovieItemWrapper__O68PG",overviewWrapper:"MovieItem_overviewWrapper__2I8Lc",title:"MovieItem_title__1A6z2",rank:"MovieItem_rank__2C1He",titleOverview:"MovieItem_titleOverview__1tcd3",genres:"MovieItem_genres__WPS_Q",activeLink:"MovieItem_activeLink__1dg91",buttonBlock:"MovieItem_buttonBlock__1kpvt",castList:"MovieItem_castList__3mYIn"}},22:function(e,t,a){e.exports={castWrapper:"MovieCast_castWrapper__2WXJS"}},34:function(e,t,a){e.exports={"search-form":"SearchForm_search-form__3oP2J"}},37:function(e,t,a){},38:function(e,t,a){e.exports=a(66)},43:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),i=a.n(c),o=a(5),s=a(8),l=(a(43),a(10)),m=a(11),u=a(13),v=a(12),p=a(14),h=a(17),d=a.n(h),f=a(34),_=a.n(f),E=function(e){var t=e.onChange,a=e.queryMovies;return r.a.createElement("div",{className:"SearchFormWrapper",onSubmit:t},r.a.createElement("form",{className:_.a.search__form},r.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search movies..."})),r.a.createElement("div",null,r.a.createElement("ul",null,a&&a.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(o.b,{to:"movies/".concat(e.id),id:e.id},e.original_title),r.a.createElement("img",{src:e.poster_path,alt:""}))})))))},g=a(37),b=a.n(g),y=a(15),k=a.n(y),w="https://api.themoviedb.org/3/movie/",N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={popularMovies:null},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.a.get("".concat("https://api.themoviedb.org/3/trending/all/day?api_key=7bacf57019a3c7657cb80da01b7329fb")).then((function(e){return e.data})).then((function(t){return e.setState({popularMovies:t.results})}))}},{key:"render",value:function(){var e=this.state.popularMovies,t=this.props.location;return r.a.createElement("div",{className:b.a.MoviesListWrapper},r.a.createElement("ul",null,e&&e.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(o.b,{to:{pathname:"movies/".concat(e.id),state:{from:t}},id:e.id},e.original_title),r.a.createElement("img",{src:e.poster_path,alt:""}))}))))}}]),t}(n.Component),M=a(2),C=a.n(M),O=a(22),I=a.n(O),W=function(e){var t=e.movieCast;return r.a.createElement("div",{className:I.a.MovieCastWrapper},t&&t.cast.map((function(e){return r.a.createElement("div",{key:e.id,className:I.a.castWrapper},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.profile_path),alt:e.name}),r.a.createElement("div",null,"Name: ",e.name),r.a.createElement("div",null,"Character: ",e.character))})))},j=a(18),S=a.n(j),L=function(e){var t=e.movieReviews;return r.a.createElement("div",{className:S.a.MovieReviewsWrapper},t&&t.results.length>0?t.results.map((function(e){return r.a.createElement("div",{key:e.id,className:S.a.reviewsWrapper},r.a.createElement("div",{className:S.a.authorName},"Author: ",e.author),r.a.createElement("div",null,e.content))})):r.a.createElement("div",null,"we do not have content for this movie"))},q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={moviesById:{},movieCast:null},a.handleGoBack=function(){var e=a.props.location.state;e?a.props.history.push(e.from):a.props.history.push({pathname:"/movies"})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.movieId;(function(e){return k.a.get("".concat(w+e,"?api_key=7bacf57019a3c7657cb80da01b7329fb&language=en-US")).then((function(e){return e.data}))})(t).then((function(t){return e.setState({moviesById:t})})),function(e){return k.a.get("".concat(w+e,"/credits?api_key=7bacf57019a3c7657cb80da01b7329fb")).then((function(e){return e.data}))}(t).then((function(t){return e.setState({movieCast:t})})),function(e){return k.a.get("".concat(w+e,"/reviews?api_key=7bacf57019a3c7657cb80da01b7329fb&language=en-US&page=1")).then((function(e){return e.data}))}(t).then((function(t){return e.setState({movieReviews:t})}))}},{key:"render",value:function(){var e=this.state,t=e.moviesById,a=e.movieCast,n=e.movieReviews,c=this.props.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:C.a.MovieItemWrapper},r.a.createElement("div",{className:C.a.buttonBlock},r.a.createElement("button",{type:"button",onClick:this.handleGoBack},"go Back")),r.a.createElement("div",{className:C.a.imageWrap},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:""})),r.a.createElement("ul",{className:C.a.overviewWrapper},r.a.createElement("li",{className:C.a.title},t.original_title),r.a.createElement("li",{className:C.a.rank},"Rating: ",t.vote_average),r.a.createElement("li",{className:C.a.titleOverview},"Overview"),r.a.createElement("li",{className:C.a.rank},t.overview),r.a.createElement("li",{className:C.a.genres},"Genres"),r.a.createElement("li",{className:C.a.rank},t.genres&&t.genres.map((function(e){return r.a.createElement("p",{key:e.id},e.name)}))))),r.a.createElement("div",{className:C.a.commentsWrapper},r.a.createElement("ul",{className:C.a.castList},r.a.createElement("li",null,r.a.createElement(o.c,{to:"".concat(c.url,"/casts"),activeClassName:C.a.activeLink},"Cast")),r.a.createElement("li",null,r.a.createElement(o.c,{to:"".concat(c.url,"/reviews"),activeClassName:C.a.activeLink},"Reviews"))),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"".concat(c.url,"/casts"),render:function(e){return r.a.createElement(W,Object.assign({},e,{movieCast:a}))}}),r.a.createElement(s.a,{path:"".concat(c.url,"/reviews"),render:function(e){return r.a.createElement(L,Object.assign({},e,{movieReviews:n}))}}))))}}]),t}(n.Component),B=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={queryMovies:[],query:""},a.handleChange=function(e){e.preventDefault(),a.setState({query:e.target.firstChild.value}),e.target.reset()},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state.query;t.query!==n&&function(e){return k.a.get("".concat("https://api.themoviedb.org/3/search/movie?api_key=7bacf57019a3c7657cb80da01b7329fb&language=en-US&page=1&include_adult=false","&query=").concat(e)).then((function(e){return e.data}))}(n).then((function(e){return a.setState({queryMovies:e.results})}))}},{key:"render",value:function(){var e=this,t=this.state.queryMovies;return r.a.createElement("div",{className:d.a.app},r.a.createElement("ul",{className:d.a.list},r.a.createElement("li",null,r.a.createElement(o.c,{to:"/",exact:!0,activeClassName:d.a.activeLink},"Home")),r.a.createElement("li",null,r.a.createElement(o.c,{to:"/movies",activeClassName:d.a.activeLink},"Movies"))),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:N}),r.a.createElement(s.a,{path:"/movies/:movieId",component:q}),r.a.createElement(s.a,{path:"/movies",render:function(a){return r.a.createElement(E,Object.assign({},a,{onChange:e.handleChange,queryMovies:t}))}})))}}]),t}(n.Component);i.a.render(r.a.createElement(o.a,null,r.a.createElement(s.a,{component:B})),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.ad786530.chunk.js.map